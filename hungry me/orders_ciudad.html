<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Orders - Ciudad Elmina</title>
    <link rel="icon" type="image/x-icon" href="img/img.png">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
    <link rel="stylesheet" href="css/recent_orders.css">
    <script defer src="js/recent_orders.js"></script>
</head>
<body>
    <!-- Topbar with Updated Navigation -->
    <div class="topbar">
        <div class="topbar-left">
            <h1>HungryMe.</h1>
        </div>
        <div class="topbar-nav">
            <a href="ciudadelmina.html">
                <span class="material-symbols-outlined">home</span> Home
            </a>
            <a href="addmenu_cuidad.html" class="menu-link">
                <span class="material-symbols-outlined">restaurant_menu</span> Menu
            </a>
            <a href="orders_ciudad.html">
                <span class="material-symbols-outlined">list_alt</span> Orders
            </a>
            <a href="ciudad_transac.html">
                <span class="material-symbols-outlined">receipt</span> Transaction History
            </a>
            <a href="login.html" class="logout">
                <span class="material-symbols-outlined">logout</span> Logout
            </a>
        </div>
        <div class="profile-actions">
            <span class="material-symbols-outlined" id="profile-icon">person</span>
            <a href="#" class="notification-bell">
                <span class="material-symbols-outlined">notifications</span>
            </a>
            <div class="profile-dropdown" id="profile-dropdown">
                <a href="login.html" id="logout-btn">
                    <span class="material-symbols-outlined">logout</span> Logout
                </a>
            </div>
        </div>       
    </div>

    <!-- Orders Section -->
    <div class="container">
        <div class="orders-header">
            <h2>Recent Orders</h2>
            <p>Explore the latest orders placed through HungryMe</p>
        </div>
        <div class="grid">
            <div class="card" data-order='{
                "customer": "John Doe",
                "address": "123 Foodie St, Manila",
                "status": "Delivered",
                "items": [
                    {"image": "img/wings.png", "name": "Buffalo Wings", "price": 199, "quantity": 1, "distance": "2.47 km", "time": "12 min"},
                    {"image": "img/cucumber.png", "name": "Cucumber", "price": 120, "quantity": 1, "distance": "2.47 km", "time": "12 min"}
                ]
            }'>
                <div class="card-image">
                    <img src="img/wings.png" alt="Order Image">
                </div>
                <h3>Order for John Doe</h3>
                <p class="price">₱319</p> <!-- Total: 199 + 120 -->
                <p class="info">2.47 km • 12 min</p>
                <div class="card-actions">
                    <button class="action-btn view-btn">View Order</button>
                </div>
            </div>
            <div class="card" data-order='{
                "customer": "Rico Perez",
                "address": "369 Mix St, Makati",
                "status": "Delivered",
                "items": [
                    {"image": "img/calamansi_juice.png", "name": "Calamansi Juice", "price": 40, "quantity": 1, "distance": "3.21 km", "time": "24 min"}
                ]
            }'>
                <div class="card-image">
                    <img src="img/calamansi_juice.png" alt="Calamansi Juice">
                </div>
                <h3>Order for Rico Perez</h3>
                <p class="price">₱40</p>
                <p class="info">3.21 km • 24 min</p>
                <div class="card-actions">
                    <button class="action-btn view-btn">View Order</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Updated Modal for Multi-Item Orders -->
    <div class="modal" id="order-modal">
        <div class="modal-content">
            <span class="close-btn">×</span>
            <div class="modal-header">
                <h2>Order Details</h2>
            </div>
            <div class="modal-body">
                <div class="order-details">
                    <h3 id="modal-customer"></h3>
                    <div id="modal-items"></div> <!-- Container for multiple items -->
                    <p class="order-info"><strong>Total Price:</strong> ₱<span id="modal-total-price"></span></p>
                    <p class="order-info"><strong>Address:</strong> <span id="modal-address"></span></p>
                    <p class="order-info"><strong>Distance:</strong> <span id="modal-distance"></span></p>
                    <p class="order-info"><strong>Estimated Delivery:</strong> <span id="modal-time"></span></p>
                    <p class="order-info"><strong>Status:</strong> <span id="modal-status" class="status"></span></p>
                </div>
            </div>
            <div class="modal-footer">
                <button class="modal-btn close-modal-btn">Close</button>
                <button class="modal-btn update-status-btn">Update Status</button>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-section">
                <h4>Ciudad Elmina</h4>
                <p>Serving authentic Filipino cuisine since 2020</p>
            </div>
            <div class="footer-section">
                <h4>Quick Links</h4>
                <ul>
                    <li><a href="ciudadelmina.html">Home</a></li>
                    <li><a href="addmenu_cuidad.html">Menu</a></li>
                    <li><a href="orders_ciudad.html">Orders</a></li>
                    <li><a href="ciudad_transac.html">Transactions</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h4>Contact Us</h4>
                <p><i class="fas fa-phone"></i> +63 912 345 6789</p>
                <p><i class="fas fa-envelope"></i> ciudadelmina@hungryme.com</p>
                <p><i class="fas fa-map-marker-alt"></i> 123 Food Street, Manila</p>
            </div>
        </div>
        <div class="footer-bottom">
            <p>© 2025 HungryMe. All rights reserved.</p>
        </div>
    </footer>
</body>
</html>